#!name=滴滴去广告
#!desc = 优化滴滴客户端，去除广告
#!category = 去广告

[MITM]
hostname = %APPEND% hd.xiaojukeji.com, guard.sec.xiaojukeji.com, freight.xiaojukeji.com,daijia.kuaidadi.com,162.14.157.*,ct.xiaojukeji.com,res.xiaojukeji.com,conf.diditaxi.com.cn ,api.udache.com ,common.diditaxi.com.cn,123.207.209.*,112.53.55.225,120.241.142.*,120.241.143.*,116.85.2.*,116.85.3.*,139.199.240.84, 113.46.225.5, 113.46.225.8,, 113.46.225.9, 117.51.169.4, 117.51.169.11, 120.241.143.6, 120.241.143.11, 123.207.209.41, 123.207.209.42, 123.207.209.177, 157.255.76.17, 157.255.76.19, 2402:4e00:4040::15, 2402:4e00:4040::16, 2408:8756:c5f:a00::27, 2408:8756:c5f:a00::28, 2409:8c54:872:40::10, 2409:8c54:872:40::11, 240e:97c:34:540::10, 240e:97c:34:540::13, 123.207.209.142, 123.207.209.143, 157.255.76.12, 157.255.76.15, 117.51.168.12, 117.51.168.13, 120.241.142.11, 120.241.142.13, 2402:4e00:4040::5, 2402:4e00:4040::b, 2408:8756:c5f:a00::20, 2408:8756:c5f:a00::21, 240e:97c:34:510::6, 240e:97c:34:510::15, 2409:8c54:872::11, 2409:8c54:872::13, 116.85.1.6, 116.85.1.7, 123.207.209.41, 123.207.209.42, 123.207.209.177, 2402:4e00:4040::15, 2402:4e00:4040::16, 2402:840:d002::f, 2402:840:d002::10, 116.85.1.6, 116.85.1.7, 123.207.209.56, 123.207.209.57, 123.207.209.160, 2402:4e00:4040::c, 2402:4e00:4040::f, 2402:840:d002::f, 2402:840:d002::10, 116.85.2.14, 116.85.2.15, 2402:840:d001::3, 2402:840:d001::4


[Rule]
DOMAIN,hd.xiaojukeji.com,REJECT,extended-matching,pre-matching
DOMAIN,gwp.xiaojukeji.com,REJECT,extended-matching,pre-matching
AND,((IP-ASN,45090,no-resolve),(DEST-PORT,25641),(PROTOCOL,TCP)),REJECT
AND,((IP-ASN,55990,no-resolve),(DEST-PORT,25641),(PROTOCOL,TCP)),REJECT
AND,((IP-ASN,63646,no-resolve),(DEST-PORT,25641),(PROTOCOL,TCP)),REJECT

[Map Local]
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/xpget data-type=text data="{}" status-code=200
^https:\/\/ct\.xiaojukeji\.com\/agent\/v3\/feeds data-type=text data="{}" status-code=200
^https:\/\/freight\.xiaojukeji\.com\/gateway data-type=text data="{}" status-code=200
^https:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget data-type=text data="{}" status-code=200
^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v\d\/other\/fast data-type=text data="{}" status-code=200
^https:\/\/conf\.diditaxi\.com\.cn\/dynamic\/conf data-type=text data="{}" status-code=200
^https:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/other\/slow data-type=text data="{}" status-code=200


[Script]
滴滴去广告 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/conf\.diditaxi\.com\.cn\/dynamic\/,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/dynamic.js
滴滴下栏优化 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/conf\.diditaxi\.com\.cn\/homepage\/v1\/core\?,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/page.js
滴滴去广告 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/res\.xiaojukeji\.com\/resapi\/activity\/mget\?,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/dynamic.js
滴滴去广告 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/conf\.diditaxi\.com\.cn\/nav\/widget\?,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/dynamic.js
滴滴去广告 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/guard\.sec\.xiaojukeji\.com\/api\/guard\/psg\/v2\/getShieldStatus,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/dynamic.js
滴滴个人页去广告 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/common\.diditaxi\.com\.cn\/common\/v5\/usercenter\/me\?,script-path=https://raw.githubusercontent.com/linuszlx/JS/main/DiDi/PersonPage.js
